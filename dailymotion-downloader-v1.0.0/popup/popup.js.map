{"version":3,"file":"popup.js","names":["currentTabId","currentVideoId","currentUrl","isLoading","latestVideoData","refreshInterval","navigationCheckInterval","RETRY_CONFIG","MAX_RETRIES","INITIAL_DELAY","MAX_DELAY","BACKOFF_MULTIPLIER","PERIODIC_REFRESH_INTERVAL","NAVIGATION_CHECK_INTERVAL","popupRetryCount","popupRetryTimer","initializePopup","tab","id","url","extractVideoId","console","log","tabId","videoId","loadVideoData","setupPeriodicRefresh","setupNavigationDetection","setTimeout","cleanup","showLoading","forceRefresh","clearTimeout","chrome","tabs","query","active","currentWindow","length","showError","newUrl","newVideoId","old","new","oldVideoId","showLoadingState","requestVideoDetection","wakeServiceWorkerAndGetData","sendMessage","action","reason","response","runtime","lastError","message","expectedVideoId","pingResponse","handleError","videoData","urls","hasVideosForCurrentPage","handleRetry","displayVideosWithTitle","recentThreshold","Date","now","some","v","timestamp","normalizedExpectedId","String","delay","Math","min","pow","container","document","getElementById","innerHTML","videoTitle","toLowerCase","includes","get","title","cleanVideoTitle","displayVideos","errorMsg","isConnectionError","clearInterval","setInterval","querySelector","oldUrl","reliableUrls","filter","type","isHLS","extractQuality","isFileTooSmall","fileSize","defaultVideoTitle","videosByPage","forEach","video","push","currentPageVideos","allOtherPagesVideos","currentPageSet","Set","veryRecentThreshold","normalizedCurrentVideoId","add","size","veryRecentVideos","fromNetworkRequest","sort","a","b","mostRecent","slice","recentNetworkVideos","has","renderSectionHeader","isFirst","header","createElement","className","style","cssText","appendChild","renderVideos","videos","groupedVideos","grouped","key","groupVideosByVideoId","Object","keys","videoKey","videoGroup","sortedQualities","aIsMP4","isMP4","bIsMP4","qualityA","uniqueQualities","Map","quality","isMP4Type","isHLSType","fallbackKey","set","qualityKey","deduplicatedQualities","Array","from","values","warn","firstVideo","displayTitle","videoIdForLookup","isCurrentPageVideo","videoIds","titleFromMap","lowerTitle","match","videoWithTitle","find","item","qualityMenuItems","idx","qualityLabel","formatQualityLabel","videoIndex","findIndex","defaultVideo","formatTypeLabel","defaultShortUrl","substring","defaultQualityLabel","replace","videoUrlDiv","downloadBtn","copyBtn","dropdownBtn","qualityMenu","addEventListener","e","preventDefault","stopPropagation","querySelectorAll","menu","classList","remove","otherItem","closest","contains","target","menuItem","selectedUrl","dataset","error","selectedVideo","selectedIndex","parseInt","index","fallbackVideo","shortUrl","textContent","toString","btn","videoItem","undefined","downloadVideo","copyToClipboard","parseConfigFile","disabled","configUrl","success","alert","num","toUpperCase","sanitizedTitle","name","sanitized","trim","sanitizeFilename","extension","getExtension","filename","qualityMatch","split","downloadResponse","showNotification","notificationArea","display","notificationEl","transform","opacity","parentNode","removeChild","children","text","navigator","clipboard","writeText","then","catch","err","window"],"sources":["0"],"mappings":"AAGA,IAAIA,aAAe,KACfC,eAAiB,KACjBC,WAAa,KACbC,WAAY,EACZC,gBAAkB,KAClBC,gBAAkB,KAClBC,wBAA0B,KAG9B,MAAMC,aAAe,CACnBC,YAAa,GACbC,cAAe,IACfC,UAAW,IACXC,mBAAoB,IACpBC,0BAA2B,IAC3BC,0BAA2B,KAG7B,IAAIC,gBAAkB,EAClBC,gBAAkB,KActB,SAASC,gBAAgBC,KACvBjB,aAAeiB,IAAIC,GACnBhB,WAAae,IAAIE,IACjBlB,eAAiBmB,eAAeH,IAAIE,KAEpCE,QAAQC,IAAI,qBAAsB,CAChCC,MAAOvB,aACPmB,IAAKjB,WACLsB,QAASvB,iBAIXwB,eAAc,GAGdC,uBAGAC,2BAGAC,WAAW,KACTC,WACC,KACL,CAMA,SAASJ,cAAcK,aAAc,EAAMC,cAAe,IAEpD5B,WAAc4B,cAMdhB,kBACFiB,aAAajB,iBACbA,gBAAkB,MAIpBkB,OAAOC,KAAKC,MAAM,CAAEC,QAAQ,EAAMC,eAAe,GAASH,OACxD,IAAKA,MAAwB,IAAhBA,KAAKI,OAEhB,YADAC,UAAU,wBAIZ,MAAMtB,IAAMiB,KAAK,GACXM,OAASvB,IAAIE,IACbsB,WAAarB,eAAeoB,QAG9BtC,aAAesC,QACjBnB,QAAQC,IAAI,uBAAwB,CAClCoB,IAAKxC,WACLyC,IAAKH,OACLI,WAAY3C,eACZwC,WAAYA,aAEdvC,WAAasC,OACbvC,eAAiBwC,WACjBzC,aAAeiB,IAAIC,GAEnBJ,gBAAkB,GACTd,eAAiBiB,IAAIC,KAE9BlB,aAAeiB,IAAIC,GACnBhB,WAAasC,OACbvC,eAAiBwC,WACjB3B,gBAAkB,GAIhBgB,aAAmC,IAApBhB,iBACjB+B,mBAGF1C,WAAY,EAGZ2C,sBAAsB9C,cAGtB+C,4BAA4B/C,aAAcyC,eArD1CpB,QAAQC,IAAI,8CAuDhB,CAMA,SAASwB,sBAAsBvB,OAE7BU,OAAOC,KAAKc,YACVzB,MACA,CAAE0B,OAAQ,yBAA0BC,OAAQ,iBAC3CC,WACKlB,OAAOmB,QAAQC,UAEjBhC,QAAQC,IACN,qCACAW,OAAOmB,QAAQC,UAAUC,SAG3BjC,QAAQC,IAAI,6BAA8B6B,WAIlD,CAKA,SAASJ,4BAA4BxB,MAAOgC,iBAE1CtB,OAAOmB,QAAQJ,YAAY,CAAEC,OAAQ,QAAWO,eAE9CvB,OAAOmB,QAAQJ,YACb,CAAEC,OAAQ,eAAgB1B,MAAOA,OAChC4B,WAGC,GAFAhD,WAAY,EAER8B,OAAOmB,QAAQC,UAEjB,YADAI,YAAYxB,OAAOmB,QAAQC,UAAUC,SAIvC,IAAKH,SAEH,YADAM,YAAY,sCAId,MAAMC,UAAYP,SAASO,WAAa,CAAEC,KAAM,IAChDvD,gBAAkBsD,YAGAA,UAAUC,MAAQD,UAAUC,KAAKrB,OAAS,GAE7CsB,wBAAwBF,UAAWH,mBAKhDzC,gBAAkBP,aAAaC,YAE/BqD,YAAYN,kBAKdzC,gBAAkB,EAClBgD,uBAAuBJ,UAAWnC,WAI1C,CAKA,SAASqC,wBAAwBF,UAAWH,iBAC1C,IAAKG,UAAUC,MAAkC,IAA1BD,UAAUC,KAAKrB,OACpC,OAAO,EAGT,IAAKiB,gBAAiB,CAEpB,MACMQ,gBADMC,KAAKC,MACa,IAC9B,OAAOP,UAAUC,KAAKO,KACnBC,GAAMA,EAAEC,WAAaD,EAAEC,UAAYL,gBAExC,CAGA,MAAMM,qBAAuBC,OAAOf,iBACpC,OAAOG,UAAUC,KAAKO,KAAMC,KACrBA,EAAE3C,SACA8C,OAAOH,EAAE3C,WAAa6C,qBAEjC,CAKA,SAASR,YAAYN,iBACnBzC,kBAGA,MAAMyD,MAAQC,KAAKC,IACjBlE,aAAaE,cACX+D,KAAKE,IAAInE,aAAaI,mBAAoBG,gBAAkB,GAC9DP,aAAaG,WAITiE,UAAYC,SAASC,eAAe,aACtCF,YACFA,UAAUG,UAAY,uKAIwBhE,mBAAmBP,aAAaC,+JAItEM,iBAAmB,EACf,iCACAA,iBAAmB,EACjB,4BACA,mFAQhBC,gBAAkBa,WAAW,KAE3BkB,sBAAsB9C,cACtByB,eAAc,GAAO,IACpB8C,MACL,CAKA,SAAST,uBAAuBJ,UAAWnC,QAGtCmC,UAAUqB,YACc,sBAAzBrB,UAAUqB,YACVrB,UAAUqB,WAAWC,cAAcC,SAAS,4BAE5ChD,OAAOC,KAAKgD,IAAI3D,MAAQN,MACtB,IAAKgB,OAAOmB,QAAQC,WAAapC,KAAOA,IAAIkE,MAAO,CACjD,MAAMA,MAAQC,gBAAgBnE,IAAIkE,OAC9BA,QACFzB,UAAUqB,WAAaI,MAE3B,CACAE,cAAc3B,aAGhB2B,cAAc3B,UAElB,CAKA,SAASb,mBACP,MAAM8B,UAAYC,SAASC,eAAe,aACtCF,YACFA,UAAUG,UAAY,yQAS1B,CAKA,SAASrB,YAAY6B,UACnBnF,WAAY,EACZ,MAAMwE,UAAYC,SAASC,eAAe,aAC1C,GAAIF,UAAW,CACb,MAAMY,kBACJD,SAASL,SAAS,mCAClBK,SAASL,SAAS,gCAEpBN,UAAUG,UAAY,8FAGZS,kBAAoB,6BAA+B,uCACpDA,kBAAoB,+CAAiD,UAAUD,0WAU1F,CACAxE,gBAAkB,CACpB,CAKA,SAASyB,UAAUe,SACjB,MAAMqB,UAAYC,SAASC,eAAe,aACtCF,YACFA,UAAUG,UAAY,qHAIbxB,oIAKb,CAKA,SAAS5B,uBACHrB,iBACFmF,cAAcnF,iBAGhBA,gBAAkBoF,YAAY,KAC5B,MAAMd,UAAYC,SAASC,eAAe,aACrCF,WAGeA,UAAUe,cAAc,eAG1C5E,gBAAkBP,aAAaC,cAC9BL,WAGDsB,eAAc,GAAO,IAEtBlB,aAAaK,0BAClB,CAKA,SAASe,2BACHrB,yBACFkF,cAAclF,yBAGhBA,wBAA0BmF,YAAY,KACpCxD,OAAOC,KAAKC,MAAM,CAAEC,QAAQ,EAAMC,eAAe,GAASH,OACxD,GAAIA,MAAQA,KAAKI,OAAS,GAAKJ,KAAK,GAAI,CACtC,MACMM,OADMN,KAAK,GACEf,IACbsB,WAAarB,eAAeoB,QAG9BA,SAAWtC,YAAcuC,aAAexC,iBAC1CoB,QAAQC,IAAI,gCAAiC,CAC3CqE,OAAQzF,WACRsC,OAAQA,OACRI,WAAY3C,eACZwC,WAAYA,aAGd3B,gBAAkB,EAClBW,eAAc,GAAM,GAExB,KAEDlB,aAAaM,0BAClB,CAKA,SAASgB,UACHxB,kBACFmF,cAAcnF,iBACdA,gBAAkB,MAEhBC,0BACFkF,cAAclF,yBACdA,wBAA0B,MAExBS,kBACFiB,aAAajB,iBACbA,gBAAkB,KAEtB,CAQA,SAASsE,cAAc3B,WACrB,MAAMiB,UAAYC,SAASC,eAAe,aAE1C,IAAKnB,YAAcA,UAAUC,MAAkC,IAA1BD,UAAUC,KAAKrB,OASlD,YARAqC,UAAUG,UAAY,qQAaxB,MAAMc,aAAelC,UAAUC,KAAKkC,OAAQ1B,IAEtCA,EAAE2B,KAAKb,SAAS,cAMP,WAAXd,EAAE2B,OACF3B,EAAEhD,IAAI8D,SAAS,iBACfd,EAAEhD,IAAI8D,SAAS,cAMF,eAAXd,EAAE2B,MAA0B3B,EAAE2B,MAAQ3B,EAAE2B,KAAKb,SAAS,mBAKtDd,EAAE2B,OAAQC,MAAM5B,EAAE2B,OAIiB,OADrBE,eAAe7B,EAAE2B,KAAM3B,EAAEhD,QAUvC8E,eAAe9B,EAAE+B,cAWvB,GAA4B,IAAxBN,aAAatD,OASf,YARAqC,UAAUG,UAAY,qQAYxB,MAAMqB,kBAAoBzC,UAAUqB,YAAc,oBAG5CqB,aAAe,CAAC,EAEtBR,aAAaS,QAASC,QACpB,MAAM9E,QAAU8E,MAAM9E,SAAW,UAC5B4E,aAAa5E,WAChB4E,aAAa5E,SAAW,IAE1B4E,aAAa5E,SAAS+E,KAAKD,SAI7B,IAAIE,kBAAoB,GACpBC,oBAAsB,GAG1B,MAAMC,eAAiB,IAAIC,IAErBC,oBADM5C,KAAKC,MACiB,IAElC,GAAIhE,eAAgB,CAElB,MAAM4G,yBAA2BvC,OAAOrE,gBAaxC,GAVA2F,aAAaS,QAASlC,KAEMA,EAAE3C,QAAU8C,OAAOH,EAAE3C,SAAW,QAChCqF,0BACxBH,eAAeI,IAAI3C,EAAEhD,OAMG,IAAxBuF,eAAeK,KAAY,CAC7B,MAAMC,iBAAmBpB,aACtBC,OACE1B,GACCA,EAAE8C,oBACF9C,EAAEC,WACFD,EAAEC,UAAYwC,qBAEjBM,KAAK,CAACC,EAAGC,KAAOA,EAAEhD,WAAa,IAAM+C,EAAE/C,WAAa,IAEvD,GAAI4C,iBAAiB1E,OAAS,EAAG,CAE/B,MAAM+E,WAAaL,iBAAiB,GACpCN,eAAeI,IAAIO,WAAWlG,KAC1BkG,WAAW7F,QACboE,aAAaS,QAASlC,IAChBA,EAAE3C,UAAY6F,WAAW7F,SAC3BkF,eAAeI,IAAI3C,EAAEhD,OAKzB6F,iBAAiBM,MAAM,EAAG,IAAIjB,QAASlC,IACrCuC,eAAeI,IAAI3C,EAAEhD,OAGzBE,QAAQC,IACN,yEAEJ,CACF,CAGqBsE,aAAaC,OAAQ1B,GAAMA,EAAE/B,QACrCiE,QAASlC,GAAMuC,eAAeI,IAAI3C,EAAEhD,KACnD,MAME,GAJqByE,aAAaC,OAAQ1B,GAAMA,EAAE/B,QACrCiE,QAASlC,GAAMuC,eAAeI,IAAI3C,EAAEhD,MAGrB,IAAxBuF,eAAeK,KAAY,CAC7B,MAAMQ,oBAAsB3B,aACzBC,OAAQ1B,GAAMA,EAAE8C,oBAAsB9C,EAAEC,WACxC8C,KAAK,CAACC,EAAGC,KAAOA,EAAEhD,WAAa,IAAM+C,EAAE/C,WAAa,IAEvD,GAAImD,oBAAoBjF,OAAS,EAAG,CAClC,MAAM+E,WAAaE,oBAAoB,GACvCb,eAAeI,IAAIO,WAAWlG,KAE1BkG,WAAW7F,SACboE,aAAaS,QAASlC,IAChBA,EAAE3C,UAAY6F,WAAW7F,SAC3BkF,eAAeI,IAAI3C,EAAEhD,MAI7B,CACF,CAIFqF,kBAAoBZ,aAAaC,OAAQ1B,GAAMuC,eAAec,IAAIrD,EAAEhD,MACpEsF,oBAAsBb,aAAaC,OAAQ1B,IAAOuC,eAAec,IAAIrD,EAAEhD,MAEvEwD,UAAUG,UAAY,GAGtB,MAAM2C,oBAAsB,CAACtC,MAAOuC,SAAU,KAC5C,MAAMC,OAAS/C,SAASgD,cAAc,OACtCD,OAAOE,UAAY,iBACnBF,OAAOG,MAAMC,QAAU,uBACPL,QAAU,IAAM,qKAOhCC,OAAO7C,UAAY,kFAEbK,4BAGNR,UAAUqD,YAAYL,SAsBlBM,aAAgBC,SACpB,GAAsB,IAAlBA,OAAO5F,OAAc,OAGzB,MAAM6F,cAtBqB,CAACD,SAC5B,MAAME,QAAU,CAAC,EAajB,OAZAF,OAAO7B,QAASC,QAGd,MACM+B,KADa/B,MAAM9E,QAAU8C,OAAOgC,MAAM9E,SAAW,OACjC8E,MAAMvB,YAAc,UAEzCqD,QAAQC,OACXD,QAAQC,KAAO,IAEjBD,QAAQC,KAAK9B,KAAKD,SAGb8B,SAQeE,CAAqBJ,QAG3CK,OAAOC,KAAKL,eAAe9B,QAASoC,WAClC,MAAMC,WAAaP,cAAcM,UAG3BE,gBAAkBD,WAAWxB,KAAK,CAACC,EAAGC,KAC1C,MAAMwB,OAASC,MAAM1B,EAAErB,MACjBgD,OAASD,MAAMzB,EAAEtB,MACvB,GAAI8C,SAAWE,OAAQ,OAAQ,EAC/B,IAAKF,QAAUE,OAAQ,OAAO,EAE9B,MAAMC,SAAW/C,eAAemB,EAAErB,KAAMqB,EAAEhG,MAAQ,EAElD,OADiB6E,eAAeoB,EAAEtB,KAAMsB,EAAEjG,MAAQ,GAChC4H,WAKdC,gBAAkB,IAAIC,IAC5BN,gBAAgBtC,QAASC,QACvB,IAAKA,MAAO,OAEZ,MAAM4C,QAAUlD,eAAeM,MAAMR,KAAMQ,MAAMnF,KACjD,IAAK+H,QAAS,CAGZ,MAAMC,UAAYN,MAAMvC,MAAMR,MACxBsD,UAAYrD,MAAMO,MAAMR,MAExBuD,YAAc,YADJF,UAAY,MAAQC,UAAY,MAAQ,SAKxD,YAHKJ,gBAAgBxB,IAAI6B,cACvBL,gBAAgBM,IAAID,YAAa/C,OAGrC,CAEA,MAAM6C,UAAYN,MAAMvC,MAAMR,MACxBsD,UAAYrD,MAAMO,MAAMR,MAIxByD,WAAa,GAAGL,YADNC,UAAY,MAAQC,UAAY,MAAQ,UAInDJ,gBAAgBxB,IAAI+B,aACvBP,gBAAgBM,IAAIC,WAAYjD,SAMpC,MAAMkD,sBAAwBC,MAAMC,KAAKV,gBAAgBW,UAAUzC,KACjE,CAACC,EAAGC,KACF,IAAKD,IAAMC,EAAG,OAAO,EAErB,MAAMwB,OAASC,MAAM1B,EAAErB,MACjBgD,OAASD,MAAMzB,EAAEtB,MAGvB,GAAI8C,SAAWE,OAAQ,OAAQ,EAC/B,IAAKF,QAAUE,OAAQ,OAAO,EAG9B,MAAMC,SAAW/C,eAAemB,EAAErB,KAAMqB,EAAEhG,MAAQ,EAElD,OADiB6E,eAAeoB,EAAEtB,KAAMsB,EAAEjG,MAAQ,GAChC4H,WAMtB,GAAqC,IAAjCS,sBAAsBlH,OAAc,CAMtC,GALAjB,QAAQuI,KACN,8CACAnB,SACA,2CAEwB,IAAtBC,WAAWpG,OACb,OAGFkH,sBAAsBjD,QAAQmC,WAAWpB,MAAM,EAAG,GACpD,CAGA,MAAMuC,WAAaL,sBAAsB,GAGzC,IAAKK,WAEH,YADAxI,QAAQuI,KAAK,wCAAyCnB,UAMxD,IAAIqB,aAAe,KAGnB,MAAMC,iBAAmBF,WAAWrI,QAChC8C,OAAOuF,WAAWrI,SAClB,KAGEwI,mBAAqB/J,gBACzB8J,kBACAzF,OAAOrE,kBAAoB8J,iBAI7B,GAAIA,kBAAoBrG,UAAUuG,SAAU,CAE1C,MAAMC,aACJxG,UAAUuG,SAASF,mBAAmB5E,OACtCzB,UAAUuG,SAASJ,WAAWrI,UAAU2D,MAC1C,GAAI+E,aAAc,CAEhB,MAAMC,WAAaD,aAAalF,cACG,sBAAjBkF,cAChBC,WAAWlF,SAAS,6BACpBkF,WAAWC,MAAM,kEAEjBN,aAAeI,aAEnB,CACF,CAGA,IAAKJ,aAAc,CAEjB,MAAMO,eAAiBb,sBAAsBc,KAAMnG,IACjD,IAAKA,IAAMA,EAAEY,WAAY,OAAO,EAChC,MAAMoF,WAAahG,EAAEY,WAAWC,cAEhC,MACmB,sBAAjBb,EAAEY,aACDoF,WAAWlF,SAAS,8BACpBkF,WAAWC,MACV,kEAIN,GAAIC,eACFP,aAAeO,eAAetF,gBACzB,GAAI8E,YAAcA,WAAW9E,WAAY,CAC9C,MAAMoF,WAAaN,WAAW9E,WAAWC,cAEb,sBAA1B6E,WAAW9E,YACVoF,WAAWlF,SAAS,6BACpBkF,WAAWC,MACV,kEAGFN,aAAeD,WAAW9E,WAE9B,CACF,CAIK+E,eAEDA,aADEE,mBACa7D,kBAGA,qBAKnB,MAAMoE,KAAO3F,SAASgD,cAAc,OACpC2C,KAAK1C,UAAY,aAIjB,IAAI2C,iBAAmB,GACvBhB,sBAAsBnD,QAAQ,CAACC,MAAOmE,OACpC,IAAKnE,QAAUA,MAAMnF,IAAK,OAC1B,MAAMuJ,aAAeC,mBAAmBrE,OAElCsE,WAAalH,UAAUC,KAAKkH,UAAW1G,GAAMA,EAAEhD,MAAQmF,MAAMnF,KACnEqJ,kBAAoB,8CAA8CC,kBAAkBnE,MAAMnF,0BAA0ByJ,YAAc,EAAIA,WAAa,OAAOF,uBAI5J,MAAMI,aAAetB,sBAAsB,GAC3C,IAAKsB,aAEH,YADAzJ,QAAQuI,KAAK,0CAA2CnB,UAGjCsC,gBAAgBD,aAAahF,MAAtD,MACMkF,gBACJF,aAAa3J,IAAImB,OAAS,GACtBwI,aAAa3J,IAAI8J,UAAU,EAAG,IAAM,MACpCH,aAAa3J,IACb+J,oBAAsBP,mBAAmBG,cAE/CP,KAAKzF,UAAY,+FAGgBgF,+FAGCgB,aAAa3J,QAAQ6J,8JAGRF,aAAa3J,oBAAoBuC,UAAUC,KAAKkH,UAAW1G,GAAMA,EAAEhD,MAAQ2J,aAAa3J,6BAA6B+J,4CAA4CpB,aAAaqB,QAAQ,KAAM,8eASjOX,wGAG+BM,aAAa3J,iEAMtDwD,UAAUqD,YAAYuC,MAGtB,MAAMa,YAAcb,KAAK7E,cAAc,cACjC2F,YAAcd,KAAK7E,cAAc,iBACjC4F,QAAUf,KAAK7E,cAAc,aAC7B6F,YAAchB,KAAK7E,cAAc,0BACjC8F,YAAcjB,KAAK7E,cAAc,0BAGnC6F,aAAeC,aACjBD,YAAYE,iBAAiB,QAAUC,IACrCA,EAAEC,iBACFD,EAAEE,kBAEFhH,SACGiH,iBAAiB,0BACjBxF,QAASyF,OACR,GAAIA,OAASN,YAAa,CACxBM,KAAKC,UAAUC,OAAO,QACtB,MAAMC,UAAYH,KAAKI,QAAQ,eAC3BD,WACFA,UAAUF,UAAUC,OAAO,gBAE/B,IAEcR,YAAYO,UAAUI,SAAS,SAE/CX,YAAYO,UAAUC,OAAO,QAC7BzB,KAAKwB,UAAUC,OAAO,mBAEtBR,YAAYO,UAAUjF,IAAI,QAC1ByD,KAAKwB,UAAUjF,IAAI,oBAMzBlC,SAAS6G,iBAAiB,QAAUC,IAC7BnB,KAAK4B,SAAST,EAAEU,UACnBZ,YAAYO,UAAUC,OAAO,QAC7BzB,KAAKwB,UAAUC,OAAO,oBAK1BR,YAAYK,iBAAiB,sBAAsBxF,QAASgG,WAC1DA,SAASZ,iBAAiB,QAAUC,IAClCA,EAAEE,kBAGF,MAAMU,YAAcD,SAASE,QAAQpL,IACrC,IAAKmL,YAEH,YADAjL,QAAQmL,MAAM,qCAAsCH,UAKtD,IAAII,cAAgB/I,UAAUC,KAAK2G,KAAMnG,GAAMA,EAAEhD,MAAQmL,aACzD,IAAKG,cAAe,CAElB,MAAMC,cAAgBC,SAASN,SAASE,QAAQK,OAChD,GAAIF,eAAiB,GAAKA,cAAgBlD,sBAAsBlH,OAAQ,CACtE,MAAMuK,cAAgBrD,sBAAsBkD,eACxCG,eAAiBA,cAAc1L,MAAQmL,cAEzCG,cAAgB/I,UAAUC,KAAK2G,KAAMnG,GAAMA,EAAEhD,MAAQmL,aAEzD,CACA,IAAKG,cAEH,YADApL,QAAQmL,MAAM,gCAAiCF,YAGnD,CAEA,MAAM5B,aAAeC,mBAAmB8B,eAGlCK,SACJL,cAActL,IAAImB,OAAS,GACvBmK,cAActL,IAAI8J,UAAU,EAAG,IAAM,MACrCwB,cAActL,IACpBiK,YAAY2B,YAAcD,SAC1B1B,YAAYjG,MAAQsH,cAActL,IAGlCkK,YAAYkB,QAAQpL,IAAMsL,cAActL,IAIxC,MAAMyJ,WAAalH,UAAUC,KAAKkH,UAAW1G,GAAMA,EAAEhD,MAAQsL,cAActL,KAC3EkK,YAAYkB,QAAQK,MAAQhC,YAAc,EAAIA,WAAWoC,WAAa,GACtE3B,YAAYkB,QAAQ7B,aAAeA,aACnCY,QAAQiB,QAAQpL,IAAMsL,cAActL,IAGpCqK,YAAYK,iBAAiB,sBAAsBxF,QAASkE,OAC1DA,KAAKwB,UAAUC,OAAO,cAExBK,SAASN,UAAUjF,IAAI,YAGvB0E,YAAYO,UAAUC,OAAO,QAC7BzB,KAAKwB,UAAUC,OAAO,qBAKtBR,YAAYK,iBAAiB,sBAAsBvJ,OAAS,GAC9DkJ,YACGK,iBAAiB,sBAAsB,GACvCE,UAAUjF,IAAI,eAMnBN,kBAAkBlE,OAAS,IAC7BmF,oBAAoB,gBAAgB,GACpCQ,aAAazB,oBAIXC,oBAAoBnE,OAAS,IAC/BmF,oBAAoB,eAAe,GACnCQ,aAAaxB,sBAI0B,IAArC8B,OAAOC,KAAKpC,cAAc9D,QAAgBsD,aAAatD,OAAS,GAClE2F,aAAarC,cAIfhB,SAASiH,iBAAiB,iBAAiBxF,QAAS4G,MAClDA,IAAIxB,iBAAiB,QAAUC,IAC7B,MAAMvK,IAAMuK,EAAEU,OAAOG,QAAQpL,IACvByL,MAAQlB,EAAEU,OAAOG,QAAQK,MAEzBM,UACJxJ,UAAUC,KAAK2G,KAAMnG,GAAMA,EAAEhD,MAAQA,YAC1BgM,IAAVP,MAAsBlJ,UAAUC,KAAKiJ,OAAS,MAEjD,GAAIM,UAAW,CAGb,MAAMnI,WAAa2G,EAAEU,OAAOG,QAAQzC,cAClCoD,UAAUnI,YACVrB,UAAUqB,YACV,oBAEI2F,aAAegB,EAAEU,OAAOG,QAAQ7B,cAAgB,GAEhDE,WAAalH,UAAUC,KAAKkH,UAAW1G,GAAMA,EAAEhD,MAAQA,KAC7DiM,cACEjM,IACAyJ,YAAc,EAAIA,WAAa,EAC/BsC,UAAUpH,KACVf,WACA2F,aAEJ,MACErJ,QAAQmL,MAAM,gCAAiCrL,SAKrDyD,SAASiH,iBAAiB,aAAaxF,QAAS4G,MAC9CA,IAAIxB,iBAAiB,QAAUC,IAE7B2B,gBADY3B,EAAEU,OAAOG,QAAQpL,KAE7BuK,EAAEU,OAAOW,YAAc,UACvBnL,WAAW,KACT8J,EAAEU,OAAOW,YAAc,QACtB,SAKPnI,SAASiH,iBAAiB,cAAcxF,QAAS4G,MAC/CA,IAAIxB,iBAAiB,QAAUC,IAE7B4B,gBADY5B,EAAEU,OAAOG,QAAQpL,KAE7BuK,EAAEU,OAAOW,YAAc,eACvBrB,EAAEU,OAAOmB,UAAW,KAG1B,CAEA,SAASD,gBAAgBE,WACvBvL,OAAOmB,QAAQJ,YACb,CACEC,OAAQ,cACR9B,IAAKqM,UACLjM,MAAOvB,cAERmD,WACKA,UAAYA,SAASsK,SACvBpM,QAAQC,IAAI,0CACZM,WAAW,KACTH,eAAc,GAAM,IACnB,MAEHiM,MAAM,4DAId,CAEA,SAAS1H,eAAeF,KAAM3E,IAAM,IAElC,IAAIiJ,MAAQtE,KAAKsE,MAAM,WACvB,GAAIA,MACF,OAAOuC,SAASvC,MAAM,IAKxB,GADAA,MAAQtE,KAAKsE,MAAM,WACfA,MACF,OAAOuC,SAASvC,MAAM,IAKxB,GADAA,MAAQtE,KAAKsE,MAAM,cACfA,MACF,OAAOuC,SAASvC,MAAM,IAIxB,GAAIjJ,IAAK,CAGP,GADAiJ,MAAQjJ,IAAIiJ,MAAM,aACdA,MACF,OAAOuC,SAASvC,MAAM,IAKxB,GADAA,MAAQjJ,IAAIiJ,MAAM,uBACdA,MAAO,CACT,MAAMuD,IAAMhB,SAASvC,MAAM,IAE3B,GAAIuD,KAAO,KAAOA,KAAO,MAAQA,IAAM,IAAO,EAC5C,OAAOA,GAEX,CACF,CAEA,OAAO,IACT,CAEA,SAAS5C,gBAAgBjF,MACvB,OAAIA,KAAKb,SAAS,OACTa,KAAK8H,cACH9H,KAAKb,SAAS,SAAWa,KAAKb,SAAS,OACzC,aAEFa,KAAK8H,aACd,CAEA,SAASR,cACPjM,IACAyL,MACA9G,KACAf,WAAa,oBACb2F,aAAe,IAGf,MAaMmD,eAbmB,CAACC,OAExB,IAAIC,UAAYD,KAAK3C,QAAQ,oBAAqB,IAQlD,OANA4C,UAAYA,UAAUC,OAAO7C,QAAQ,aAAc,IAE/C4C,UAAUzL,OAAS,MACrByL,UAAYA,UAAU9C,UAAU,EAAG,MAG9B8C,WAAa,qBAGCE,CAAiBlJ,YAClCmJ,UAAYC,aAAahN,KAG/B,IAAIiN,SACJ,GAAI1D,cAAgBA,aAAasD,OAAQ,CAEvC,MAAMK,aAAe3D,aAAaN,MAAM,WAIxCgE,SAAW,GAAGP,oBAHMQ,aAChBA,aAAa,GACb3D,aAAa4D,MAAM,KAAK,MACqBJ,WACnD,MACEE,SAAW,GAAGP,kBAAkBK,YAGlCjM,OAAOmB,QAAQJ,YACb,CACEC,OAAQ,WACR9B,IAAKA,IACLiN,SAAUA,SACVtI,KAAMA,KACN4E,aAAcA,aACdnJ,MAAOvB,aAEPwB,QACEpB,iBACAA,gBAAgBuD,MAChBvD,gBAAgBuD,KAAKiJ,QACrBxM,gBAAgBuD,KAAKiJ,OAAOpL,QACxBpB,gBAAgBuD,KAAKiJ,OAAOpL,aAC5B2L,GAEPoB,mBACC,GAAIA,kBAAoBA,iBAAiBd,QACvCpM,QAAQC,IAAI,yBACP,GAAIiN,kBAAoBA,iBAAiB/B,MAAO,CAErD,MAAMlH,SAAWiJ,iBAAiB/B,MAC9BlH,SAASL,SAAS,4BACpBuJ,iBACE,yBACA,2FACA,WAGFA,iBAAiB,kBAAmBlJ,SAAU,QAElD,GAGN,CAGA,SAASkJ,iBAAiBrJ,MAAO7B,QAASwC,KAAO,QAC/C,MAAM2I,iBAAmB7J,SAASC,eAAe,oBACjD,IAAK4J,iBAEH,YADApN,QAAQmL,MAAM,+BAKhBiC,iBAAiB3J,UAAY,GAG7B2J,iBAAiB3G,MAAM4G,QAAU,QAEjC,MAAMC,eAAiB/J,SAASgD,cAAc,OAC9C+G,eAAe9G,UAAY,gBAAgB/B,OAC3C6I,eAAe7J,UAAY,yCACSK,sDACE7B,oBAGtCmL,iBAAiBzG,YAAY2G,gBAG7B/M,WAAW,KACT+M,eAAe7G,MAAM8G,UAAY,gBACjCD,eAAe7G,MAAM+G,QAAU,KAC9B,IAGHjN,WAAW,KACT+M,eAAe7G,MAAM8G,UAAY,oBACjCD,eAAe7G,MAAM+G,QAAU,IAC/BjN,WAAW,KACL+M,eAAeG,YACjBH,eAAeG,WAAWC,YAAYJ,gBAGC,IAArCF,iBAAiBO,SAAS1M,SAC5BmM,iBAAiB3G,MAAM4G,QAAU,SAElC,MACF,IACL,CAEA,SAASP,aAAahN,KACpB,OAAIA,IAAI8D,SAAS,QAAgB,MAC7B9D,IAAI8D,SAAS,SAAiB,OAC3B,OACT,CAEA,SAASoI,gBAAgB4B,MACvBC,UAAUC,UACPC,UAAUH,MACVI,KAAK,KACJhO,QAAQC,IAAI,yBAEbgO,MAAOC,MACNlO,QAAQmL,MAAM,kBAAmB+C,MAEvC,CA/tCAtN,OAAOC,KAAKC,MAAM,CAAEC,QAAQ,EAAMC,eAAe,GAASH,OACpDA,MAAQA,KAAKI,OAAS,GAAKJ,KAAK,GAClClB,gBAAgBkB,KAAK,IAErBK,UAAU,gEA8YdiN,OAAO/N,cAAgBA","ignoreList":[]}