{"version":3,"file":"background.js","names":["importScripts","videoData","processedConfigs","Set","activeDownloads","Map","downloadControllers","downloadInfo","parsingHLSVariants","webRequestListener","messageListener","downloadsListener","activeChromeDownloads","cleanupAllResources","console","log","chrome","webRequest","onBeforeRequest","removeListener","e","forEach","controller","chromeDownloadId","signal","aborted","abort","downloads","cancel","clear","pendingFileSizes","warn","runtime","onSuspend","addListener","storage","local","removalCheckInterval","_cleanupTick","checkForRemoval","size","keys","slice","k","delete","tabs","query","lastError","existingTabIds","map","t","id","Object","tabIdStr","tabId","parseInt","has","x","get","r","activeIds","activeDownloadIds","length","keysToCheck","flatMap","progressResult","stillActive","filter","progress","status","toLowerCase","undefined","includes","staleIds","set","remove","message","clearInterval","setInterval","details","url","tab","isVideoPage","isSegmentPlaylist","getVideoTitleFromTab","then","videoTitle","videoId","finalVideoId","extractVideoId","currentActiveVideoId","activeUrl","urls","find","u","storeVideoUrl","parseAndStoreHLSVariants","catch","err","isChunkedRangeUrl","norm","normalizeConfigUrl","shouldSkipConfig","fetchAndParseMasterJson","downloadDelta","state","error","filename","current","verificationInterval","cleanupTimer","clearTimeout","blobUrl","sendMessage","action","cleanupIndexedDBBlob","blobId","downloadId","errorMsg","search","results","download","bytesReceived","totalBytes","total","percent","Math","round","onChanged","checkDownloadSettings","Promise","resolve","title","cleanVideoTitle","type","fromNetworkRequest","fileSize","fixUrlEncoding","isFileTooSmall","videoIds","currentVideoId","isActiveVideo","activeVideoId","timestamp","Date","now","existingUrl","item","hasExistingTitle","some","startsWith","urlVideoTitle","push","MAX_URLS_PER_TAB","videoIdKeys","inUse","add","String","newVideoIds","updateActiveVideo","updateBadge","videoUrls","v","previousActiveVideoId","active","matchingVideos","mostRecent","reduce","latest","count","networkRequestVideos","videosByVideoId","key","mostRecentNetwork","values","async","videoCount","setBadgeText","text","toString","setBadgeBackgroundColor","color","restoreDownloadInfoFromStorage","items","result","downloadKeys","replace","storedInfo","info","JSON","parse","onHeadersReceived","contentLength","responseHeaders","h","name","value","isNaN","onMessage","request","sender","sendResponse","success","received","data","substring","handleDownloadAction","setupOffscreenDocument","blobToDataUrl","fetchedTitle","fetchedId","saveAs","controllerInfo","cancelDownload","onRemoved","onUpdated","changeInfo"],"sources":["0"],"mappings":"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","ignoreList":[]}